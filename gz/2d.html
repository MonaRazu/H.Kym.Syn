<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>二次元画像
  </title>
  <!-- Swiper CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
  <link rel="stylesheet" href="../styles.css">
</head>
<body>

<nav class="nav-main">
  <a href="../index.html">
    <span class="nav-jp">ホーム</span>
    <span class="nav-en">HOME</span>
  </a>
  <a href="../dz/dzmatome.html">
    <span class="nav-jp">同人誌</span>
    <span class="nav-en">MANGA</span>
  </a>
  <a href="../an/anime.html">
    <span class="nav-jp">アニメ</span>
    <span class="nav-en">ANIME</span>
  </a>
  <a href="../av/av.html">
    <span class="nav-jp">動画</span>
    <span class="nav-en">VIDEO</span>
  </a>
  <a href="gazou.html" class="current">
    <span class="nav-jp">画像</span>
    <span class="nav-en">GALLERY</span>
  </a>
</nav>

<nav class="nav-sub">
    <a href="2d.html" class="current">2D</a>
    <a href="3d.html">Real</a>
    <a href="cos.html">Cosplay</a>
    <a href="ai.html">AI</a>
</nav>

<header>
  <h1>二次元画像
  </h1>
</header>

<div class="gallery-container">





</div>

<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script>
  // 1. 全ての画像に遅延読み込みを自動セット（「死ぬ」作業の回避）
  document.querySelectorAll('img').forEach(img => {
    img.setAttribute('loading', 'lazy');
  });

  // 2. Swiperの初期化
  document.querySelectorAll('.swiper').forEach((el) => {
    const workEl = el.closest('.work');
    const descEl = workEl.querySelector('.slide-description');
    const linkEl = workEl.querySelector('.sw-link');

    new Swiper(el, {
      slidesPerView: 1,
      loop: true, // ループできるようにしておくと便利です
      on: {
        slideChange: function () {
          const activeSlide = this.slides[this.activeIndex];
          const title = activeSlide.getAttribute('data-title');
          const url = activeSlide.getAttribute('data-url');

          if (descEl) descEl.textContent = title;
          if (linkEl && url) linkEl.href = url;
        }
      }
    });
  });
  let lastScrollY = window.scrollY;
  const subNav = document.querySelector('.nav-sub');

  window.addEventListener('scroll', () => {
    const currentScrollY = window.scrollY;

    if (currentScrollY > lastScrollY && currentScrollY > 100) {
      // 下にスクロールしている ＝ 子ナビを隠す
      subNav.classList.add('hide');
    } else {
      // 上にスクロールしている ＝ 子ナビを表示
      subNav.classList.remove('hide');
    }
    
    lastScrollY = currentScrollY;
  });
</script>

</body>
</html>
